<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>自定义过滤器</title>
</head>

<body>
    <!-- 
       过滤器
        用来过滤模型数据，在显示之前进行数据处理和筛选
        语法： {{ data | filter1(参数) | filter2(参数)}}

       关于内置过滤器
       vue1.0中内置许多过滤器，如：
        currency、uppercase、lowercase
        limitBy
        orderBy
        filterBy
       vue2.0中已经删除了所有内置过滤器，全部被废除
       如何解决：
        a.使用第三方工具库，如lodash、date-fns日期格式化、accounting.js货币格式化等
        b.使用自定义过滤器

        定义过滤器
            分类：全局过滤器、局部过滤器
                自定义全局过滤器
                使用全局方法Vue.filter(过滤器ID,过滤器函数)

                自定义局部过滤器    
    -->

    <div id="itany">
        <!-- <h3>{{3 | addZero}}</h3> -->

        <!-- 课后作业：自己实现toFiexed()四舍五入的功能 -->
        <h3>{{12.34866 | number(2)}}</h3>
        <h3>{{12.045 | number(2)}}</h3>

        <h3>{{currentTime | date}}</h3>
    </div>


</body>

</html>

<script src="../js/vue.js"></script>
<script>
    /*
        自定义全局过滤器
    */
   Vue.filter('addZero',function (data) {
    //    console.log(data)
    return data<10?'0'+data:data
   })
//    Vue.filter('number',function (data,n) {
//         // console.log(data,n);
//         return data.toFixed(n)
//    })
   Vue.filter('date',data => {
			let d=new Date(data);
			return d.getFullYear()+'-'+(d.getMonth()+1)+'-'+d.getDate()+' '+d.getHours()+':'+d.getMinutes()+':'+d.getSeconds();
		});
		
    Vue.config.keyCode = {
        a: 65,
        f1: 112
    }
    var vm = new Vue({
        el: '#itany',
        data: { //存储数据
            currentTime:Date.now()
        },
        methods: { //存储方法
           
        },
        filters: {
            number: (data,n) => {
                return data.toFixed(n);
            }
        }
    })
</script>