<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>动态组件</title>
    <script src="js/vue.js"></script>
</head>

<body>
    <!-- 
        组件component
      5. 动态组件
    <component :is="">组件
        多个组件使用同一个挂载点，然后动态的在它们之间切换    
    
    <keep-alive>组件  包裹动态组件时，会缓存不活动的组件实例
       
     -->

    <div id="itany">
        <button @click="flag='my-hello'">显示hello组件</button>
        <button @click="flag='my-world'">显示world组件</button>


        <!-- 使用keep-alive组件缓存非活动组件，可以保留状态，避免重新渲染，默认每次都会销毁非活动组件并重新创建 -->
        <div>
            <keep-alive>
                <component :is="flag"></component>
            </keep-alive>
        </div>
    </div>


    <script>
        var vm = new Vue({ //这里的vm也是一个组件，称为根组件
            el: '#itany',
            data: {
                flag: 'my-hello'
            },
            components: { //注册局部组件
                'my-hello': {
                    template: '<h3>我是hello组件，{{x}}</h3>', //组件id
                    data() {
                        return {
                            x:Math.random()
                        }
                    }
                },
                'my-world': {
                    template: '<h3>我是world组件,{{y}}}</h3>',
                    data() {
                        return {
                            y:Math.random()
                        }
                    }
                }

            }
        })
    </script>
</body>

</html>